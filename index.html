<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>RadSystems — Portal</title>

  <!-- Base + core styles -->
  <link rel="stylesheet" href="styles/base.css">
  <link rel="stylesheet" href="styles/core.css">

  <!-- Chart.js (only loaded once at shell) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Minimal boot splash (keeps the tab on a neutral screen until branding is ready) -->
  <style>
    #boot{position:fixed;inset:0;background:#fff;display:grid;place-items:center;z-index:99999}
    #boot::after{content:"";width:12px;height:12px;border-radius:50%;background:#e5e7eb;animation:breathe 1.6s ease-in-out infinite}
    @keyframes breathe{50%{transform:scale(1.4);opacity:.55}}
  </style>
  <div id="boot" aria-hidden="true"></div>
  <!-- 🔒 Keep your entire app exactly the same, just wrapped in #app-shell and hidden initially -->
  <div id="app-shell" style="display:none">
  <div class="container">
    <header class="app-header">
      <div class="brand">
        <img id="brandLogo" class="logo" alt="Logo"/>
        <div>
          <div class="title">RadSystems Portal</div>
          <div class="muted" style="font-size:12px">Assistants · Heads · Admin · Google Sheets backend</div>
        </div>
      </div>
      <div class="row wrap">
        <span id="userChip" class="pill hidden"></span>
        <div id="settingsWrap" class="settings-wrap hidden">
          <button id="settingsBtn" class="icon-btn" title="Settings">⚙️</button>
          <div id="settingsMenu" class="menu hidden">
          <button id="changePassBtn" class="menu-item">Change password</button>
          </div>
        </div>
        <button id="logoutBtn" class="btn ghost hidden">Logout</button>
      </div>
    </header>

    <!-- Overlay loader (global) -->
    <div class="overlay" id="pageLoader"><div class="loader"></div></div>

    <!-- All views mount here -->
    <main id="app-root"></main>
    </div> <!-- end .container -->
    <div id="cpModal" class="modal-backdrop hidden">
  <div class="modal card stack">
    <h3>Change password</h3>
    <div class="field">
      <label>Current password</label>
      <input id="cpCurrent" type="password" autocomplete="current-password" />
    </div>
    <div class="field">
      <label>New password</label>
      <input id="cpNew1" type="password" placeholder="At least 6 characters" autocomplete="new-password" />
    </div>
    <div class="field">
      <label>Confirm new password</label>
      <input id="cpNew2" type="password" autocomplete="new-password" />
    </div>
    <div class="row">
      <button id="cpSave" class="btn primary"><span class="spinner hidden" id="cpSpin"></span><span>Save</span></button>
      <button id="cpCancel" class="btn">Cancel</button>
    </div>
  </div>
</div>
    </div><!-- /#app-shell -->
  <!-- Your app entry (must be module) -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
